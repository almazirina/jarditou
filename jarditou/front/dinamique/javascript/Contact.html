<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nous contacter</title>
</head>

<body>
    <h2>Vos coordonnées :</h2>
    <h3>* Ces zones son obligatoires pour envoyer le formulaire.</h3>
    <div>
        <form id="form" method="POST" name="form">
            <label for="entrep">Société :</label>
            <input type="text" id="société" name="nom"><label id="etoile"> *</label>
            <br><br>
            <label for="nom">Personne à contacter :</label>
            <input type="text" id="nom" name="nom"><label id="etoile"> *</label>
            <br><br>
            <label for="adresse">Adresse de l'entreprise :</label>
            <input type="text" name="adresse">
            <br><br>
            <label for="codep">Code Postal :</label>
            <input type="text" id="cdp" name="codep"><label id="etoile"> *</label>
            <br><br>
            <label for="ville">Ville :</label>
            <input type="text" id="ville" name="nom"><label id="etoile"> *</label>
            <br><br>
            <label for="mail">E-mail :</label>
            <input type="email" id="email" name="mail"><label id="etoile"> *</label>
            <br><br>
            <label for="tel">Téléphone :</label>
            <input type="tel" name="tel"><br><br>

            <select name="sélect" id="sélect">

                <option value="Choisissez" selected>Choisissez</option>
                <option value="Access">Access</option>
                <option value="Java">Java</option>
                <option value="Delphi">Delphi</option>
                <option value="Windev">Windev</option>
                <option value="Visual Basic">Visual Basic</option>
                <option value="Internet">Internet</option>
                <option value="Intranet">Intranet</option>
                <option value="Windows NT">Windows NT</option>
                <option value="Unix">Unix</option>
                <option value="SQL Server">SQL Server</option>
                <option value="Oracle">Oracle</option>
                <option value="Autres">Autres</option>
                <textarea name="sujet" rows="5" cols="30"></textarea>
            </select>
            <br><br>

            <button type="submit" id="btnenvoi" onclick="verif(e)">Envoyer</button>
            <button type="reset">Effacer</button>

        </form>
        <script>
            var myform = document.getElementById("form");
            myform.addEventListener("submit", function verif(e)
            {
                var erreur;
                var société = document.getElementById("société");
                var nom = document.getElementById("nom");
                var cdp = parseInt(document.getElementById("cdp"));
                var ville = document.getElementById("ville");
                var email = document.getElementById("email");

                var filtre = new RegExp("^[0-9]+$");
                var res = filtre.test(cdp);

                var filtre1 = new RegExp("^[a-z0-9.-]+@[a-z0-9.-]{2,}.[a-z]{2,4}$");
                var ind = filtre.test(email);

                if (!société.value) {
                    alert("Société doit comporter au moins 1 caractère");
                    return false;
                }
                if (!nom.value) {
                    alert("Personne à contacter doit comporter au moins 1 caractère");
                    return false;
                }
                if (!ville.value) {
                    alert("Ville doit comporter au moins 1 caractère");
                    return false;
                }
                if (res == false) 
                {
                    alert("Code postal doit comporter que des caractères numériques");
                } else if (res == " ")
                {
                    alert("Saisisez le code postale en format numérique")
                }

                if (ind == false) 
                {
                    alert("Email doit comporter au moins le caractère @.");
                }

                if (erreur) {
                    verif(e).preventDefault();
                    alert("Il y a une erreur !");
                    return false;
                } else {
                    alert("Formulaire envoyé !");
                }
                var cdp = Intl.NumberFormat;
                if (cdp.format.lenght != 5) {
                    alert("Code postal doit comporter 5 caractères numériques");
                    return false;
                }
            });
        </script>

        <script src="js/formulaire.js"></script>
    </div>

</body>

</html>